---

# Generic
role: ansible-role-users
role_short: users
role_description: |
  Creates local users & groups

# Supported platform
platforms:
  - name: CentOS 7
    image: centos7
  - name: CentOS 8
    image: centos8
  - name: Debian 10 (Buster)
    image: debian10
  - name: Debian 11 (Bullseye)
    image: debian11
  - name: Ubuntu 18.04 LTS
    image: ubuntu1804
  - name: Ubuntu 20.04 LTS
    image: ubuntu2014

# Ansible galaxy
galaxy:
  role_name: users
  namespace: de_it_krachten
  description: users
  author: Mark van Huijstee
  company: De IT Krachten BV
  license: MIT
  min_ansible_version: 2.9
  platforms:
    - name: EL
      versions:
        - 7
        - 8
    - name: Debian
      versions:
        - buster
        - bullseye
    - name: Ubuntu
      versions:
        - 18.04
        - 20.04

# Github
github:
  active: true
  self_hosted: false
  fail_fast: true
  owner: de-it-krachten
  repo: ansible-role-users

# Gitlab
gitlab:
  active: false

# molecule
molecule:
  active: true
  platforms:
    - centos7
    - centos8
    - debian10
    - debian11
    - ubuntu1804
    - ubuntu2004
  converge:
    playbooks: []
    vars:
      grps:
        - name: user1
          gid: 2000
        - name: user2
          gid: 2001
        - name: group1
          gid: 3000
        - name: group2
          gid: 3001
      users:
        - name: user1
          uid: 2000
          group: user1
        - name: user2
          uid: 2001
          group: group2
          shell: /bin/sh
          sshkey: ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQC5rUvo3sZrPcKYmezty1kOUX61jF03EyDJ8DVcmU4heTpTm35/UhltfcJkYPNUChpLJelfm1y+d4MKSJPsBcRmbep3757xUCqQYej9itwpBY0n2XzdurR6uJh1cFfiynsKFnDbr/pqOatY/GedFMVABMtdMf9zJDfYpfEzvDxbN1hpMq+/dJTs+5EjAjgon0mNZ1925tyMQdNpFTl/M/B04utNqQfcM1f5UozIT1o6YNJcNH5tp7B/mkpj4c3WR4ZPmMcLrvycSP1Nzrb7cmtTlxR2nSXANRnQhMJCHEORyBn3aFI62SJXwQxbKt1fX9UaiFZpHDJ1IqsFc56lylNGcBJK8vCCJwkscFbMnLbBGwAD+ozo4Vt/2MVHhXDFtO84rfz7Nr+J55imJnxE4BS44xm6eaF+7G+NZZGvxQEdKV/o9rpjXFeSGO+LW7qVzva2biA+l3sw6N+suzklhuNxdKQ9Q4JMwNoyDhNr4Bk1fZePSxwWC28eChXln9Vzkv8=
          sudo: true
  prepare:
    playbooks: []
    vars: {}

# templates
ci_templates:
  - src:  galaxy/templates/meta-main.yml
    dest: meta/main.yml
  - src:  yamllint/templates/yamllint
    dest: .yamllint
  - src:  github/templates/ci.yml
    dest: .github/workflows/ci.yml
    when: github_runner_cloud
  - src:  github/templates/ci-self-hosted.yml
    dest: .github/workflows/ci.yml
    when: github_runner_self_hosted
  - src:  gitlab/templates/gitlab-ci.yml
    dest: .gitlab-ci.yml
    when: gitlab_active
  - src:  molecule/templates/prepare.yml
    dest: molecule/default/prepare.yml
    when: molecule_active
  - src:  molecule/templates/molecule.yml
    dest: molecule/default/molecule.yml
    when: molecule_active
  - src:  molecule/templates/converge.yml
    dest: molecule/default/converge.yml
    when: molecule_active
#  - src:  molecule/templates/requirements.tmpl
#    dest: molecule/default/requirements.tmpl
#    when: molecule_active
  - src:  git/templates/gitignore
    dest: .gitignore
    force: false
